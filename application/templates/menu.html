{% extends "base.html" %}

{% set title = "Menu" %}

{% block imports %}
    <script>
        function edit() {
            $('textarea').attr('disabled', false);
            $('.non-editing').remove();
            $('.editing').css('display', 'inline');
        }

        window.onload = function() {
            for (ta of $('textarea')) {
                ta.style.height = (ta.scrollHeight + 10) + 'px';
            }
        }
    </script>
{% endblock %}

{% block content %}
    <form method="POST" autocomplete="off">
        <div class="menu-entry">
            <b>Lunedi</b>
            <textarea disabled name="e0">{{ menu[0] }}</textarea>
            <textarea disabled name="e1">{{ menu[1] }}</textarea>
        </div>

        <div class="menu-entry">
            <b>Martedi</b>
            <textarea disabled name="e2">{{ menu[2] }}</textarea>
            <textarea disabled name="e3">{{ menu[3] }}</textarea>
        </div>

        <div class="menu-entry">
            <b>Mercoledi</b>
            <textarea disabled name="e4">{{ menu[4] }}</textarea>
            <textarea disabled name="e5">{{ menu[5] }}</textarea>
        </div>

        <div class="menu-entry">
            <b>Giovedi</b>
            <textarea disabled name="e6">{{ menu[6] }}</textarea>
            <textarea disabled name="e7">{{ menu[7] }}</textarea>
        </div>

        <div class="menu-entry">
            <b>Venerdi</b>
            <textarea disabled name="e8">{{ menu[8] }}</textarea>
            <textarea disabled name="e9">{{ menu[9] }}</textarea>
        </div>

        <div class="menu-entry">
            <b>Sabato</b>
            <textarea disabled name="e10">{{ menu[10] }}</textarea>
            <textarea disabled name="e11">{{ menu[11] }}</textarea>
        </div>

        <div class="menu-entry">
            <b>Domenica</b>
            <textarea disabled name="e12">{{ menu[12] }}</textarea>
            <textarea disabled name="e13">{{ menu[13] }}</textarea>
        </div>

        <div class="button-line"> 
            <button class="non-editing" onclick="edit()" type="button">Modifica</button>
            <button class="non-editing" onclick="download()" type="button">Scarica</button>

            <button class="editing" onclick="location.reload()" type="button">Annulla</button>
            <button class="editing">Salva</button>
        </div>
    </form>
{% endblock %}
