{% if is_hx() %}
    <h1>{{ title }}</h1>
    {% block content %} {% endblock %}
{% else %}
    {% extends "templates/structure.html" %}
{% endif %}

{% block boot_script %}
    <script>
        {% if not is_hx() %} $(window).on('load', function() { {% endif %}

        document.title = '{{ meta_title or title }}';

        {% if back_link %}
            $('#back').attr('hx-get', '{{ back_link }}');
            htmx.process(document.getElementById('back'));
            $('nav i').show();
        {% else %}
            $('nav i').hide();
        {% endif %}

        {% for message in get_flashed_messages() %}
            showAlert("{{ message }}");
        {% endfor %}

        {% if not is_hx() %} }); {% endif %}
    </script>
{% endblock %}
