{% extends "base.html" %}

{% set title = 'Rimuovi articoli' %}

{% block imports %} <script src="{{ url_for('static', filename='js/storage.js') }}"></script> {% endblock %}

{% block content %}
    {% if filter %} <span>Ricerca corrente: {{ filter }}</span> {% endif %}

    <form method="POST" autocomplete="off">
        <div class="buttons-line">
            <button title="Annulla" class="icon" onclick="location.href='/dispensa';" type="button"><i class="fas fa-undo"></i></button>
            {% if filter %}
                <button title="Rimuovi filtro" class="icon" onclick="location.href='/dispensa/rimuovi';" type="button"><i class="fas fa-search-minus"></i></button>
            {% else %}
                <button title="Cerca" class="icon" onclick="location.href='/dispensa/cerca?pagina=rimuovi';" type="button"><i class="fas fa-search"></i></button>
            {% endif %}
            <button title="Conferma" class="icon" onclick="saveRemoveData();"><i class="fas fa-check"></i></button>
        </div>

        <div>
            {% if not storage %}
                <i>La lista &egrave; vuota.</i>
            {% else %}
                {% for item in storage %}
                    <div>
                        <input type="checkbox" id="aid-{{ item.aid }}">
                        <label for="aid-{{ item.aid }}" class="item">
                            <input class="name" value="{{ item.name }}" readonly>
                            {% if item.expiration %} <input class="expiration" value="{{ item.expiration }}" readonly> {% endif %}
                            {% if item.quantity %} <input class="quantity" value="{{ item.quantity }}" readonly> {% endif %}
                        </label>
                    </div>
                {% endfor %}
            {% endif %}
        </div>

        <input id="data" name="data" hidden>
    </form>
{% endblock %}
